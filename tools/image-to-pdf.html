<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Image to PDF</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<link rel="stylesheet" href="../style.css">
</head>
<body>
<h1>Image to PDF</h1>
<input type="file" id="images" multiple accept="image/*"><br><br>
<button onclick="convertPDF()">Convert to PDF</button>
<script>
async function convertPDF() {
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF();
  const files = document.getElementById("images").files;
  for(let i=0;i<files.length;i++){
    const img = files[i];
    const reader = new FileReader();
    await new Promise(resolve=>{
      reader.onload = function(e){
        const imgData = e.target.result;
        const imgProps = pdf.getImageProperties(imgData);
        const pdfWidth = pdf.internal.pageSize.getWidth();
        const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;
        if(i>0) pdf.addPage();
        pdf.addImage(imgData,'JPEG',0,0,pdfWidth,pdfHeight);
        resolve();
      };
      reader.readAsDataURL(img);
    });
  }
  pdf.save("ToolMancer.pdf");
}
</script>
</body>
</html>
